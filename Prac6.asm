.MODEL SMALL
.386
.DATA
M1 DB 10,13,'ENTER THE FIRST NO. $'
M2 DB 10,13,'ENTER THE SECOND NO. $'
M3 DB 10,13,'BCD SUBTRACTION IS $'
.CODE
.STARTUP
MOV ESI,0
MOV EDX,0
MOV EBX,0
MOV EAX,0
MOV EBP,0
MOV ECX,0

MOV AH,9
MOV DX,OFFSET M1
INT 21H

MOV CX,8
L1:SHL EBX,4
MOV AH,1
INT 21H
SUB AL,30H
ADD BL,AL
LOOP L1

MOV ESI,EBX
MOV EBX,0

MOV AH,9
MOV DX,OFFSET M2
INT 21H

MOV CX,8
L3:SHL EBX,4
MOV AH,1
INT 21H
SUB AL,30H
ADD BL,AL
LOOP L3

MOV EDX,EBX
MOV EBX,ESI
MOV AL,BL
SUB AL,DL
DAS
MOV CL,AL
MOV AL,BH
SBB AL,DH
DAS
MOV CH,AL
LAHF
ROL EBX,16
ROL EDX,16
ROL ECX,16
SAHF
MOV AL,BL
SBB AL,DL
DAS
MOV CL,AL
MOV AL,BH
SBB AL,DH
DAS
MOV CH,AL
ROL ECX,16
MOV EBX,0
MOV EBX,ECX

MOV AH,9
MOV DX,OFFSET M3
INT 21H

MOV CX,8
L5: ROL EBX,4
MOV DL,BL
AND DL,0FH
ADD DL,30H
 
MOV AH,2
INT 21H
LOOP L5

.EXIT
END